<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Measures of Occurrence</title>
    <meta charset="utf-8" />
    <meta name="author" content="Mabel Carabali" />
    <script src="libs/header-attrs-2.25/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="extra.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: left, middle, inverse, title-slide

.title[
# Measures of Occurrence
]
.author[
### Mabel Carabali
]
.institute[
### EBOH, McGill University
]
.date[
### 2022/08/01 (updated: 2024-09-11)
]

---









class: middle
### Objectives
- To review core concepts of measures of occurrence
- To clarify potential misconceptions about measures of occurrence
- To identify opportunities to improve the reporting of measures in epidemiology

.small[Chapters 4 and 5: Rothman, K. J., Lash, T. L., VanderWeele, T. J., &amp; Haneuse, S. (2021). Modern epidemiology (Fourth edition). Wolters Kluwer. [Available here](https://ebookcentral.proquest.com/lib/mcgill/detail.action?docID=6947080)]

---
class: middle
## Measures of Frequency

Occurrence of an outcome, generally/broadly presented as: **Number of individuals with the outcome (health or otherwise)**

&lt;img src="images/L4_oxycodone1.png" width="50%" style="display: block; margin: auto;" /&gt;

.small[Jakobsson, G., Gustavsson, S., Jönsson, A.K. et al. [Oxycodone-Related Deaths: The Significance of Pharmacokinetic and Pharmacodynamic Drug Interactions](https://doi.org/10.1007/s13318-021-00750-9) Eur J Drug Metab Pharmacokinet 47, 259–270 (2022)]

---
class: middle
class: middle
## Measures of Frequency (Epidemiology)

Distribution of disease `\(^1\)` frequency in human populations

  - Description, Surveillance

  - Etiology, Causation


&lt;br&gt;

`\(^1\)` .small[ _Any health outcome_]

---
class: middle
## Measures of Frequency
.question[
What are we missing here?
]

- Population

- Time

- Both 

- Neither?

--
&lt;br&gt;
.pull-right[ **POPULATION AT RISK**]


---
class: middle
## Measures of Frequency

- Number of individuals with the outcome **[Numerator]**

- Number of individuals at risk for that outcome **[Denominator]**
&lt;br&gt;

--
.pull-right[
### Next Question(s)
  - Newly Developed Outcomes
  - Existent Outcomes
]

.pull-left[
&lt;img src="images/clock.png" width="50%" style="display: block; margin: auto;" /&gt;
]

---
class: middle
## Measures of Frequency

- Incidence ( _**New events**_)

  - Incidence Proportion
  
  - Incidence Times
  
  - Incidence Rates
&lt;br&gt;
- Prevalence ( _**Existing Events**_)



---
class: middle
## Incidence vs Prevalence

**New/existing Outcomes the same?**

&lt;img src="images/incidencevsprevalence_v2-021578498972035.png" width="75%" style="display: block; margin: auto;" /&gt;

&lt;br&gt;
.footnote[ .small[https://www.technologynetworks.com/immunology/articles/incidence-vs-prevalence-329073 ]]
&lt;br&gt;

---
class: middle
## What about the _Population_ ❓
&lt;img src="images/fig4_1_Rothman_ch004_image001.jpeg" width="85%" style="display: block; margin: auto;" /&gt;

_Illustration of four basic measures of disease frequency using a population of 10 persons (P1-P10) with person-time depicted 1 month before, and 12 months after, the start of follow-up for the occurrence of a disease._ .small[ [Lash, Timothy, L. et al. Modern Epidemiology. Available from: Wolters Kluwer, (4th Edition). Wolters Kluwer Health, 2020.Chapter 4, page 54](https://mcgill.on.worldcat.org/oclc/1236198056) ]

---

class: left

## Measures of Frequency

- Incidence (_New events_)
  - Incidence Proportion ( _Cumulative Incidence_, `\(Risk^1\)`, Proportion_)
  - Incidence Times ( _Event time, failure time, occurrence time_)
  - Incidence Rates ( _Incidence density_, `\(Hazard^2\)` _/ Hazard rate_)

- Prevalence (_Existing Events_)

&lt;br&gt;
`\(^1\)` .small[Average Risk]
&lt;br&gt;
`\(^2\)` .small[Instantaneous Hazard ]
&lt;br&gt;

A note on _**Statistical Lexicon: **_ .small[https://statmodeling.stat.columbia.edu/2009/05/24/handy_statistic/ ]

---

## Incidence Proportion

.pull-right[ .purple[a.k.a Cumulative incidence] ]


 `\(I\)` = _Incidence proportion_
 
 `\(A\)` = _Number of New Outcomes_
 
 `\(N\)` = _Initial Size of the Population_
 &lt;br&gt;

$$ I = \left(\frac{A}{N}\right)$$
- Range: 0 to 1
- Dimensionless
- **Must state the time period for which it applies**

.pull-right-narrow[
.small[ _From: Modern Epidemiology 4th Ed. Ch 4_ &amp; _Epidemiology Beyond the Basics 3rd Ed. Ch2_
]
]

---

### Incidence Proportion

**Example:**

&lt;img src="images/figure2_3.png" width="40%" style="display: block; margin: auto;" /&gt;
.small[ _Individuals sorted according to follow-up time from shortest to longest. D = death; Arrow (C)= censored observation; ( ), duration of follow-up in months (all assumed to be exact whole numbers)._ ]

---

## Incidence Proportion

** `\(I = \left(\frac{A}{N}\right)\)` I = 6/10 = 0.6** 
&lt;br&gt;

--
Assumes a _**stable/static**_ population:

**Drawback:** _“over any appreciable time interval, it is usually **technically impossible to measure risk.** The reason is a practical one: if a population is followed over a period of time, some people in the population will die from causes other than the outcome under study.”_  -Rothman, pg. 26

--
- **Competing risks:** Occurs when other causes (non related to the outcome of interest) prevent the participants to develop the outcome and affect follow-up time
_E.g., the patient died in a car crash when the outcome under study is MI or cancer._

- **Loss to follow-up:** Lack complete information for the intended period of follow-up time
_E.g., the study participant withdraw from an RCT after 6 months in a study expected to last 12 months._



---
class: middle

### So, time matters...

.pull-right[
&lt;img src="images/clock.png" width="50%" style="display: block; margin: auto;" /&gt;
]

--

## Incidence Times ( _Event time, failure time, occurrence time_)


Time span from time zero to time of the event

 - Will be different when using different time scales


---

## Incidence Times

- Exposure: smoking vs. non-smoking

- Outcome: death

Hypothetical experiment: randomized 100 people to each exposure condition

.question[Do you expect to see a difference in the number of deaths by exposure condition?] 

--

.pull-right[
  - ...Over the next week?
  
  - ...Over the next 25 years?
  
  - ...Over the next 100 years?]

.footnote[ _Capture the etiologically relevant time period_]

---
class: middle

## Incidence Times

When do we start measuring incidence times (i.e., time zero)?

  - From birth (when age at event is used)

  - From study entry (in an RCT, for example)
   
  - A specific date (e.g., on 9/11 in a study of PTSD of NY firefighters)


---

class: middle

- Example: A 80 year old individual has a stroke. 

--

 - What is the incident time?

--

## It depends ❗

   - On the age scale?

- Now, what would it be if was enrolled in an RCT at age 65 ?

   - Using years since study entry

- What is the incident time if the stroke does not occur by age 80, but the RCT ends when the participant is 80 years old?

   - Using years since study entry
.pull-right[
&lt;img src="images/clock.png" width="30%" style="display: block; margin: auto;" /&gt;
]

---

class: middle
## Censoring

 _**Incomplete**_ follow-up time.
 
An **incidence time** is censored if it is possible that the outcome of interest would have taken place after the point in time that censoring occurred. 

Common censoring reasons:
   - End of study follow-up
   - Loss to follow-up/Withdraws 
   - Competing risk*

---
class: middle
## Censoring

&lt;img src="images/censoring.png" width="70%" style="display: block; margin: auto;" /&gt;

.small[[Szklo M, Nieto FJ. Epidemiology : Beyond the Basics. Fourth ed.pg 21](https://mcgill.on.worldcat.org/oclc/1032070752)]


---
class: middle

## Incidence Times

Descriptive (when there is no censoring)
 
 - Mean incidence time (life expectancy)
 
 - Median incidence time

What is the difference between life expectancy and the so-called “average age at death” ?

 - Which one is calculated at a given time point? 

 - Which one is more relevant when considering etiology?

---

class: middle

## Incidence Rates

- Very important concept in epidemiology: **Person-time at risk.**

- Addresses censoring (time issues)

  - e.g., the technical problem with measuring the incidence proportion under competing risks. 


_“The total person-time at risk merely represents the total of all time during which disease onsets could occur and would be considered events occurring in the population of interest.”_ 


Drawback of rate: **harder to interpret, less intuitive**

---
class: middle
## Counting Person-Time

In a study of uterus cancer (**O**)
 - Should a participant with a `\(\underline{hysterectomy}\)` (❌) at the start of your study contribute to the denominator?
 
               ❌|----------------------|

 - What if the participant has a hysterectomy during follow-up time?
         
                    |------- ❌ --------|

                    |---------------------| ?? ❌  ??
--
.small[
- Only outcomes that occur to persons contributing to the denominator at the time that "disease" onset occurs should be counted in the numerator.
- Only people that can possibly have an outcome should contribute person-time to the denominator]

---
class: middle
## Counting Person-Time

- Consider patients that need heart transplants and a study of whether the transplant will impact mortality
- In a study of this question, the author contrasted the incidence rate in those that received the transplant to those that did not receive the transplant but were waiting for one. 
All the person time from the group that received the transplant was classified as **exposed**, including the **person time before the transplant was received**.
- This artificially makes the mortality rate in the exposed group lower than it should be because before they received the transplant they could not have died. **If they did, then they would have been classified as unexposed.** 

Definition of **“Immortal time”**: span of time when the outcome could not have occurred
- Usually occurs with passing of time before a subject initiates exposure
-To be classified as exposed, the subject MUST remain event-free until the start of exposure

[Immortal Time Bias (Suissa 2007)](https://doi.org/10.1093/aje/kwm324) 


---
class: middle

## How do we account for the time?

.pull-right[
&lt;img src="images/clock.png" width="50%" style="display: block; margin: auto;" /&gt;
]
---
class: middle
## Incidence Rates

 `\(IR\)` = _Incidence Rate_
 
 `\(A\)` = _Number of New Outcomes_
 
 `\(\overline{N}\)` = _Average Population over the study period_
 
 `\(\Delta\ t\)` = _Length of the risk period_
 
 `\(\overline{N}\cdot\Delta\ t\)` = _Total Person Time at Risk_
 
 &lt;br&gt;
$$ IR = \left(\frac{A}{\overline{N}\cdot\Delta\ t}\right)$$

---
class: middle
## Incidence Rates

As a time weighted average of individual rates

`\(A^*\)` = `\(\sum_{people}(Time\ spent\ in\ population)(Individual\ Rate)\)`

&lt;br&gt;

`$$IR = \left(\frac{\sum_{people}(Time\ spent\ in\ population)(Individual\ Rate)}{\sum_{people}(time\ spent\ in\ population)}\right)$$`
&lt;br&gt;

$$ IR = \left(\frac{A^*}{\sum_{people}(Time\ spent\ in\ population)}\right)$$

---
class: middle
### Hands on! 
&lt;img src="images/figure2_3.png" width="50%" style="display: block; margin: auto;" /&gt;
&lt;br&gt;
.small[ _Individuals sorted according to follow-up time from shortest to longest. D = death; Arrow (C)= censored observation; ( ), duration of follow-up in months (all assumed to be exact whole numbers)._ ]


---
class: middle
## Incidence _Rate_ vs Incidence _Density_

### Incidence Rate Based on Aggregate Data

  `\(\overline{N}\)` =  _Average Population over the study period (yrs)_
  
--

### Incidence Density Based on Individual Data

`\(ID\)` = Incidence Density

$$ ID= \left(\frac{A}{(Total\ person\ time\ )}\right)$$
- Total Person time = Total follow-up time period = `\(\overline{N}\cdot\Delta\ t\)` = _Total Person Time at Risk_

---
class: middle
### Incidence Rate Based on Aggregate Data

 ** `\(\overline{N}\)` = _Average Population over the study period (yrs)_**

--


```r
d = 6 # number of deaths
n1 = 10 - 0.5*(6+3) # half of the events and losses minus initial population
n2 = (10 +1) /2 # 10 people at time zero + 1 alive at the end (2yrs)
cbind(n1, n2)
```

```
##       n1  n2
## [1,] 5.5 5.5
```

&lt;br&gt;
`\(IR_{\overline{N}}\)` = d (n=6) / ( `\(\overline{N}\)` = 5.5); IR = (1.09) per 2 person-years
 - Also, 1.09 ÷ 2 years = 0.545 per person-year 
 
 - or ** `\(IR_{\overline{N}}\)` = 54.55 per 100 person-years**.

---
class: left
### Incidence Density Based on Individual Data
 **Person Time**

.pull-left[ .small[

```r
d = 6 #number of deaths
#deaths, time contributed 
Dt= 1 + 3 + 9 + 13 + 17 + 20 
Dt
```

```
## [1] 63
```

```r
Ct= 2 + 10 + 16 #censoring,time contributed
Ct
```

```
## [1] 28
```

```r
Et = 24 # complete follow-up, time contributed
PT &lt;- Dt + Ct +Et #time contributed
PT
```

```
## [1] 115
```
]]

.pull-right[

```r
IR &lt;- 6/PT
IR
```

```
## [1] 0.05217391
```

The `\(IR_{pt}\)` =  Events (6 )/ Person-Time (115); 

IR =0.052, per person-months
]

---

## Incidence _Density_

**Recall:** Incidence Density Based on Individual Data 

`\(ID\)` = Incidence Density = IR based on _**Individual Person-time**_ `\(\overline{N}\cdot\Delta\ t\)`
  
Person time = 115 for 24 months (2-years), what's for a year?
.pull-right[.small[ 

```r
PT
```

```
## [1] 115
```

```r
TFU &lt;- PT/12 #months
TFU
```

```
## [1] 9.583333
```

```r
ID &lt;- d/TFU
ID
```

```
## [1] 0.626087
```
]]
&lt;br&gt;

---
class: middle
### Incidence Density

** `\(\overline{N}\cdot\Delta\ t\)` = _Total Person Time at Risk_**

`\(ID\)` = Incidence Density = IR based on _**Individual Person-time**_ 

`\(ID\)` = Events (n= 6) / Total Follow-up person time (n= 9.5833333)

&lt;br&gt;

  ** `\(ID\)` = 0.63 per person-year, or 62.61 per 100 person-years **


`\(ID\)` = D (n=6) / TFU (9.583 × 12 months)  = 0.052,  or 5.2 per 100 person-months

`\(ID\)`= 6/115 = 0.052= or 5.2 per 100 person-months


---
## Incidence _Rate_ or Incidence _Density_

**Assumptions:**
 - Independence between censoring and survival and of lack of secular trends

 - The risk of the event remains approximately constant over time during the interval of interest
    _"The estimated rate should apply equally to any point in time within the interval"_
    
 - _n_ people followed during _t_ units of time are equivalent to _t_ people observed during _n_ units of time;
    
 **BUT** 1 smoker followed for 30 years **is certainly not the same** as that of 30 smokers followed for 1 year

---
class: middle
## Incidence _Rate_ or Incidence _Density_

&lt;img src="images/table2_6.png" width="70%" style="display: block; margin: auto;" /&gt;

.small[ _Szklo M, Nieto FJ. Epidemiology : Beyond the Basics. Fourth ed.pg 68_]

---

## Incidence _Rate_ or Incidence _Density_

**Option:** Divide the follow-up into smaller intervals and calculate incidence densities for each interval

 - First follow-up year: 3 ÷ 7.083 = 42.4 per 100 person-years (or 3 ÷ 85 = **3.5** per 100 person-months)

 - Second follow-up year: 3 ÷ 2.500 = 120 per 100 person-years (or 3 ÷ 30 = **10** per 100 person-months)

Given the differences, _not advisable_ to estimate an incidence density for the overall 2-year period.

---

## Incidence _Rate_ or Incidence _Density_

- It is of practical interest that when withdrawals (and additions in an open population or dynamic cohort) and events occur uniformly, rate (based on grouped data) and density (based on individual data) are virtually the same. 

- The following equation demonstrates the equivalence between the rate per average population and the density (per person-time), when the former is averaged with regard to the corresponding time unit (e.g., yearly average).


$$ Rate (IR_{\overline{N}}) = \left(\frac{\frac{No. events(x)}{average\ population (n)}}{time (t)}\right) = \left(\frac{x}{n\times\ t}\right) = Density (ID)$$
**But it is NOT always the same!**

---

## Incidence _Rate_ or Incidence _Density_

** `\(IR_{\overline{N}}\)`** = 54.55 per 100 person-years ** `\(\neq\)`** ** `\(ID\)`** = 62.61 per 100 person-years

--

`\(IR_{\overline{N}}\)` =  Events (n= 6 )/ Average Population over time (n= 5.5)
 
  ** `\(IR_{\overline{N}}\)` = 54.55 per 100 person-years**
  

`\(ID\)` = Events (n= 6) / Total Follow-up period (Person-Time) (n= 9.583) 

 ** `\(ID\)`  = 62.61 per 100 person-years**


.red[ _"When the sample size is large and provided that the time interval is reasonably short, the assumption of uniformity of events/losses is likely to be met"_ (Szklo M, Nieto FJ. Epidemiology : Beyond the Basics. Fourth ed.]

---
class: middle

## Incidence _Rate_ or Incidence _Density_

**Range:** between 0 and infinity

- Must report the time units used! 
  Person-years, person-months, etc because the incidence rate can change drastically based on the unit 
 – don’t confuse yourself or your reader! 
 
Example 1/100PYs – how many people were observed for how long?


---
class: middle
## Incidence _Rate_ or Incidence _Density_

**Caveat:** Assumed to be constant for the time window in which they are measured. 

- 10 persons followed for 100 years vs. 1000 persons followed for 1 year 
   – These will usually show different incidence rates of events
   
- Clearly define the time windows of observation. 

If it isn’t likely to show a constant incidence rate then divide it into finer strata and calculate separate rates for each strata.



---
class: middle
### Incidence Proportion, Incidence Rate and Incidence Density

&lt;img src="images/fig4_1_Rothman_ch004_image001.jpeg" width="80%" style="display: block; margin: auto;" /&gt;

_Illustration of four basic measures of disease frequency using a population of 10 persons (P1-P10) with person-time depicted 1 month before, and 12 months after, the start of follow-up for the occurrence of a disease._ .small[ [Lash, Timothy, L. et al. Modern Epidemiology. Available from: Wolters Kluwer, (4th Edition). Wolters Kluwer Health, 2020.Chapter 4, page 54](https://mcgill.on.worldcat.org/oclc/1236198056) ]

---
class: middle

## Incidence proportion (_risk_) and Incidence rate
  
 
|                        | **Incidence Proportion**   | **Incidence Rate**        |                           
|:-----------------------|:--------------------------:|:-------------------------:|
|Smallest value        |0                  |0 |
|Greatest value        |1                  |Infinity|
|Units (dimensionality)|None                |1/time |
|Interpretation       |Probability or average risk|Inverse of waiting time (under steady state conditions) |


---

### (Basic) Simulated examples
.pull-left[ .small[

```r
set.seed(704)
O1&lt;- rbinom(20, 1, 0.10)
O2&lt;- rbinom(20, 1, 0.45)
O3&lt;- rbinom(20, 1, 0.75)
t &lt;- sample(1:24, 20, replace = TRUE)  
t[t&gt;=20]&lt;-24


dat&lt;-cbind.data.frame(ID=1:20,O1, O2, O3, t, nb=1)
dat &lt;- dat %&gt;% 
  mutate(O1= 
           ifelse(O1==1 &amp; dat$t==24, 0, O1),
           O2= ifelse(O2==1 &amp; dat$t==24, 0, O2),
           O3= ifelse(O3==1 &amp; dat$t==24, 0, O3))
```
]]

.pull-right[ .small[
&lt;table&gt;
&lt;caption&gt;Example Table&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; ID &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; O1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; O2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; O3 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; t &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nb &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 17 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]]

---
## Different Scenarios
&lt;img src="L4_EPIB704_Occurrence_files/figure-html/unnamed-chunk-19-1.svg" width="70%" style="display: block; margin: auto;" /&gt;

- **Magenta**  Dead
- Turquoise: Alive/Censored

---
### What do we have now? 

**Person-months** = 246 ; **Person-years** = 20.5;  ** `\({\overline{N}}\)`** = 11

**Outcome 1**
 - nb outcomes = 4
 - `\(IP_{O1}\)` = 0.2
 - `\(IR_{O1}\)` = 0.18 per person-years
 - `\(ID_{O1}\)` = 0.2 per person-years
 
--

.pull-left[
**Outcome 2**
 - nb outcomes = 7
 - `\(IP_{O2}\)` = 0.35
 - `\(IR_{O2}\)` = 0.32 per person-years
 - `\(ID_{O2}\)` = 0.34 per person-years
]

--

.pull-right[
**Outcome 3**
 - nb outcomes= 13
 - `\(IP_{O3}\)` = 0.65
 - `\(IR_{O3}\)` = 0.59 per person-years
 - `\(ID_{O3}\)` = 0.63 per person-years
]


---
class: middle
### Relationship between Incidence Rate and Incidence Proportion

If population is **closed**, and the time interval is short enough that the size of the population only declines slightly over the interval. 

$$ Incidence\ Proportion \ \cong Rate \times\Delta\ t$$
.small[ _But! this approximation doesn’t hold for diseases with "high" risks because they would involve more than a few cases occurring and the approximations that the formula relies on would not hold._
]

---
class: middle
## A note on Populations

#### Open
- May gain members over time
- Lose members to death or some other means (loss to follow-up, emigration)

#### Closed
- Adds no new members over time
- Lose members only to death

Type of population depends on the time axes chosen; 
 
 - A population can be closed using one axis and open using another


---
class: middle
## Open vs. Closed Populations
- Open vs. closed is an important distinction and can have important implications especially when designing a study.

&lt;img src="images/cohort_open.png" width="40%" style="display: block; margin: auto;" /&gt;

.small[(Szklo M, Nieto FJ. Epidemiology : Beyond the Basics. Fourth ed.)]
---
class: middle

.pull-left[
### Population
- Temporal

- Dynamic

Examples: population of a town or country, epidemiological study of driving, cell phone use and accidents 
]

.pull-right[
### Cohort
- Membership defined in a permanent fashion

- "Fixed"/Closed

Examples: birth cohorts, patients followed up from date of surgery
]


---
class: middle
### Relationship between Incidence Rate and Incidence Proportion

- The method of calculating risks over a time period with changing incidence rates is known as survival analysis.

- _"The cumulative probability of the event during a given interval lasting *m* units of time and beginning at time *x*, is the proportion of new events during that period of time in which the denominator is the initial population corrected for losses"_. .small[(Szklo M, Nieto FJ. Epidemiology : Beyond the Basics. Fourth ed.)]

---

&lt;img src="images/fig2_2.png" width="65%" style="display: block; margin: auto;" /&gt;

.small[(Szklo M, Nieto FJ. Epidemiology : Beyond the Basics. Fourth ed.)]


---

class: middle
### Assumptions in the Estimation of Cumulative Incidence Based on Survival Analysis
- Uniformity of Events and Losses Within Each Interval (Classic Life Table). 
- Events and losses are approximately uniform during each defined interval. 
- If risk changes rapidly within a given interval, then calculating a cumulative risk over the interval is not very informative. 
- The rationale underlying the method to correct for losses—that is, subtracting one-half of the losses from the denominator also depends on the assumption that losses occur uniformly.
- Independence  of censoring AND Survival
- **No secular trends!**

---
class: middle
## Prevalence

- Range: [0,1], dimensionless
- Snapshot at a point (point prevalence) in time or during a specified period (period prevalence)
- Useful for measuring disease burden and for resource planning (how many people at this moment are suffering from outcome `\(X\)` ?)
- Impacted by both duration of the condition and the incidence rate

**Note:** Etiology of disease is interested in incidence (disease onset), so prevalence is a _**poor measure for studying etiology**_ (but sometimes it is all we have!) 

---
class: middle
## The _odd_ ODDS 

 Selected measure = `\(\left(\frac{Number\ of\ events} {Denominator}\right)\)`
 
 **Denominator** Population at risk at the beginning or at the end or the person time.
 
 The Odds are functions of probabilities ( `\(P\)` ) as follows
 
 `\(Odds = \left(\frac{P}{1-P}\right)\)`

`\(P = 5% = 0.05\)`; `\(Odds =\left(\frac{ 0.05}{1-0.05}\right) = \left(\frac{0.05}{0.95}\right)\)` = 0.0526316

- .purple[While probabilities are bounded, Odds are NOT]

- .red[If the probability is small/low the Odds are similar but...] ** `\(&gt; P  &gt; Odds\)`**

---
class: middle
### A note on Odds

**Example** We observe four outcomes with four different probabilities each, 

Outcome 1 = 1%, Outcome 2 = 5%, Outcome 3 = 35%, Outcome 4 =75%


```r
Odds1 = 0.01/(1-0.01)
Odds2 = 0.05/(1-0.05)
Odds3 = 0.35/(1-0.35)
Odds4 = 0.75/(1-0.75)
```

--

`\(Odds_{O1}\)` = **0.01** &lt; `\(Odds_{O2}\)` = **0.05** &lt; `\(Odds_{O3}\)` = **0.54** &lt; `\(Odds_{O4}\)` = **3**


**More on the Oddity of the Odds later**

---

class: middle
### PREVALENCE, _Odds_ &amp; INCIDENCE

Assuming a closed, stationary population (no immigration or emigration then:

`\(Prevalence\ {\cong}\ Incidence {\times} Duration\)`


`\(\left(\frac{Prevalence\ Proportion}{1-Prevalence\ Proportion }\right) = Incidence Rate {\times} Average\ Duration (\overline{D})\)`


`\(Prevalence\ Odds = IR {\times}\overline{D}\)`


`\(Prevalence = \left(\frac{IR {\times}\overline{D}}{1+ IR {\times}\overline{D}}\right)\)`


.small[Lash, Timothy, L. et al. Modern Epidemiology. (4th Edition). 2020. (pg. 71-74)]

---
class: middle
### Prevalence, Incidence and Mean Duration

If prevalence is small (say &lt; 0.1) then:

`$$Prev\ {\cong} Incidence\ Rate\ {\times}\ Average\ Duration$$` 

--

 _"Generally, these formulas have limited practical utility because for many disease we stratify by age and there will always be immigration/emigration for age-specific prevalences when people age into and out of the age band"._


---
## Incidence vs Prevalence

  **New/existing Outcomes the same?** 

&lt;img src="images/incidencevsprevalence_v2-021578498972035.png" width="75%" style="display: block; margin: auto;" /&gt;

&lt;br&gt;
.footnote[ .small[https://www.technologynetworks.com/immunology/articles/incidence-vs-prevalence-329073 ]]
&lt;br&gt;

---
class: middle
## Quiz

&lt;img src="images/L4q1.png" width="70%" style="display: block; margin: auto;" /&gt;


---
class: middle
## Quiz

&lt;img src="images/L4q2.png" width="130%" style="display: block; margin: auto;" /&gt;



---
class: middle
## Quiz
&lt;img src="L4_EPIB704_Occurrence_files/figure-html/unnamed-chunk-26-1.svg" width="70%" style="display: block; margin: auto;" /&gt;

- Cumulative Incidence /IP at 12 months? Cumulative Incidence /IP at 24 months?
- Incidence Rates? Incidence Density?
- Prevalence? Odds? 


---
class: middle

## Quiz

|  Data | Outcomes |IP            | IR             | ID             | Prev (12m) `\(^1\)`| Odds  `\(^2\)`   |
|-------|:--------:|:------------:|:--------------:|:--------------:|:--------------:|:------------:|
|O1 | 4 | 0.2| 0.18 p-y| 0.2p-y|0.27 | 0.11|
|O2 | 7 | 0.35| 0.32 p-y| 0.34p-y|0.55 | 0.82|
|O3 | 13 | 0.65| 0.59 p-y| 0.63p-y|0.82 | 3|

&lt;br&gt;
.small[
`\(^1\)` Using the number of events (individuals with the outcome) among the population **within or during** first 12 months of follow-up.

`\(^2\)` Using as reference the probabilities used to simulate the data (i.e., 0.10, 0.45, 0.75)
]


---
class: middle

###  QUESTIONS? 

## COMMENTS?

# RECOMMENDATIONS?

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "3:2",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
